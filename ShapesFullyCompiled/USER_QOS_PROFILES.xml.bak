<?xml version="1.0" encoding="UTF-8"?>
<dds xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://community.rti.com/schema/6.0.1/rti_dds_profiles.xsd" version="6.0.1">
    <types>
      <struct name="ShapeType" extensibility="appendable">
        <member name="color" type="string" stringMaxLength="128" key="true"/>
        <member name="x" type="int32"/>
        <member name="y" type="int32"/>
        <member name="shapesize" type="int32"/>
      </struct>
      <enum name="ShapeFillKind">
        <enumerator name="SOLID_FILL" value="0"/>
        <enumerator name="TRANSPARENT_FILL" value="1"/>
        <enumerator name="HORIZONTAL_HATCH_FILL" value="2"/>
        <enumerator name="VERTICAL_HATCH_FILL" value="3"/>
      </enum>
      <struct name="ShapeTypeExtended" baseType="ShapeType">
        <member name="fillKind" type="nonBasic" nonBasicTypeName="ShapeFillKind"/>
        <member name="angle" type="float32"/>
      </struct>
    </types>

    <qos_library name="ShapesQosLibrary">
      <qos_profile name="ShapesQosProfile1" base_name="BuiltinQosLib::Generic.BestEffort" is_default_qos="true">
        <participant_qos>
	        <!-- <discovery_config>
		      <endpoint_type_object_lb_serialization_threshold>-1</endpoint_type_object_lb_serialization_threshold>
                </discovery_config>
		        -->
                <transport_builtin>
                      <mask>UDPv4 </mask>
                </transport_builtin>
		<!-- Add your initial peers and multicast receive address here, e.g:
		<discovery>
                    <initial_peers>
                      <element>239.255.20.1</element> 
                      <element>builtin.udpv4://192.168.1.203</element> 
                      <element>builtin.shmem://</element>
                    </initial_peers>
                    
                    <multicast_receive_addresses>
                        <element>239.255.20.1</element>
                    </multicast_receive_addresses>
                </discovery>
		-->

		<property>
		  <value>
		    <!-- enable monitoring IFF makefile specifies dynamic lib (no .z) -->
		    <!-- <element>
		      <name>rti.monitor.library</name>
		      <value>rtimonitoring</value>
		    </element>
		    <element>
		      <name>rti.monitor.create_function</name>
		      <value>RTIDefaultMonitor_create</value>
		    </element>
		    -->
		  </value>
		</property>

        </participant_qos> 
        <base_name>
        </base_name>
        <datareader_qos>
          <!--
          <multicast>
            <value>
              <element>
                <receive_address>239.255.1.2</receive_address>
              </element>
            </value>
          </multicast>
        -->
          <reliability>
            <kind>BEST_EFFORT_RELIABILITY_QOS</kind>
          </reliability>
        </datareader_qos>
        <datawriter_qos>

          <reliability>
            <kind>RELIABLE_RELIABILITY_QOS</kind>
          </reliability>
        </datawriter_qos>
      </qos_profile>
    </qos_library>

    <domain_library name="NewDomainLibrary1">
      <domain name="NewDomain1" domain_id="0">
        <register_type name="ShapeTypeExtended" type_ref="ShapeTypeExtended"/>
        <topic name="Triangle" register_type_ref="ShapeTypeExtended"/>
      </domain>
    </domain_library>

    <domain_participant_library name="NewParticipantLibrary1">
      <domain_participant name="ShapesParticipant1" domain_ref="NewDomainLibrary1::NewDomain1">
        <publisher name="TrianglePublisher1">
          <data_writer name="TriangleWriter" topic_ref="Triangle"/>
        </publisher>
        <subscriber name="TriangleSubscriber1">
          <data_reader name="TriangleReader" topic_ref="Triangle"/>
        </subscriber>
      </domain_participant>
    </domain_participant_library>

</dds>
